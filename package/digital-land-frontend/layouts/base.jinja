{% extends "govuk_frontend_jinja/template.html" %}
{% from "govuk_frontend_jinja/components/phase-banner/macro.html" import govukPhaseBanner %}
{% from "govuk_frontend_jinja/components/breadcrumbs/macro.html" import govukBreadcrumbs %}

{%- block pageTitle %}Digital Land - Planning data you can find, use and trust{% endblock -%}

{% block headIcons %}
  <link rel="shortcut icon" href="{{ assetPath | default('/assets') }}/images/favicon.ico">
  <link rel="icon" type="image/png" href="{{ assetPath | default('/assets') }}/images/favicon.png">
  <link rel="icon" type="image/svg+xml" href="{{ assetPath | default('/assets') }}/images/favicon.svg">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ assetPath | default('/assets') }}/images/apple-touch-icon.png">
  <link rel="manifest" href="{{ assetPath | default('/assets') }}/images/site.webmanifest">
  <link rel="mask-icon" href="{{ assetPath | default('/assets') }}/images/safari-pinned-tab.svg" color="#062058">
  <meta name="msapplication-TileColor" content="#062058">
  <meta name="msapplication-config" content="{{ assetPath | default('/assets') }}/images/browserconfig.xml">
  <meta name="theme-color" content="#062058">
{% endblock %}

{% block head %}
	<meta name="digital-land:template" content="{{ templateName|default('digital-land-frontend/base.jinja') }}">
  {%- block headStart %}{% endblock headStart -%}

  {% block pageAssets %}
    {% block mapAssets %}
      {%- if includesMap -%}
        {% include 'digital-land-frontend/partials/map-assets.jinja' %}
      {%- endif %}
    {% endblock mapAssets %}

    {%- block stylesheets %}
    <link href="{{ assetPath | default('/assets') }}/stylesheets/dl-frontend.css" rel="stylesheet" />
    {% endblock stylesheets -%}
  {% endblock pageAssets %}

  {%- block headEnd %}{% endblock headEnd -%}
{% endblock head %}

{% block header %}
  {% block cookieBanner %}
    {% include 'digital-land-frontend/partials/cookie-banner.jinja' %}
  {% endblock cookieBanner %}

  {% block mastHead %}
    {% include 'digital-land-frontend/partials/header.jinja' %}
  {% endblock mastHead %}
{% endblock header %}

{% block beforeContent %}
	{% include 'digital-land-frontend/partials/prototype-banner.jinja' %}
	{% block breadcrumbs %}{% endblock breadcrumbs %}
{% endblock beforeContent %}

{% block footer %}
	{% block footerStart %}{% endblock footerStart %}
	{% include 'digital-land-frontend/partials/footer.jinja' %}
{% endblock %}

{% block bodyEnd %}
  {% block bodyScriptsStart %}{% endblock bodyScriptsStart %}

  {% block bodyScripts %}
    {% block analyticScripts %}
    <script src="{{ assetPath | default('/assets') }}/javascripts/digital-land-cookies.js"></script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    {% endblock analyticScripts %}

    {% block libraryScripts %}
    	{%- if includeJQuery == "true" -%}
	      <script src="{{ staticPath | default('/static') }}/javascripts/vendor/jquery-3.4.1.min.js"></script>
	    {% endif %}
    {% endblock libraryScripts %}
    
    {% block govScripts %}
    <script src="{{ assetPath | default('/assets') }}/javascripts/govuk/govuk-frontend.js"></script>
    <script>
      // initiate all GOVUK components
      window.GOVUKFrontend.initAll();
    </script>
    {% endblock govScripts %}

    {% block digitalLandScripts %}
    <script src="{{ assetPath | default('/assets') }}/javascripts/digital-land-frontend.js"></script>
    <script>
      // adds any necessary polyfills
      window.DLFrontend.polyfill();
    </script>
    {% endblock digitalLandScripts %}

    {% block pageScripts %}{% endblock pageScripts %}
  {% endblock bodyScripts %}

  {% block bodyScriptsEnd %}{% endblock bodyScriptsEnd %}
{% endblock %}
